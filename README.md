# アニメおすすめシステム

このプロジェクトは、ユーザーの協調フィルタリングを使用してアニメをおすすめするシステムです。ユーザーの評価データに基づいて、類似した好みを持つ他のユーザーの評価を利用し、最適なアニメをレコメンドします。

## プロジェクトの構成

```ディレクトリ構造
.
├── app
│   ├── anime_app.py  # アプリのメインファイル
│   └── utils.py      # アプリのユーティリティ関数
├── dataset
│   ├── anime.csv             # アニメの情報データセット
│   ├── combined_data.json    # 日本語訳データを統合したJSONファイル
│   ├── rating.csv            # ユーザーのアニメ評価データ
│   └── 日本語訳リスト_個別     # 各アニメの日本語訳を格納したフォルダ
├── .gitignore
├── dataframes.pickle         # データフレームを保存したpickleファイル
├── nohup.out
├── test.ipynb
└── README.md
```

## アプリケーションの説明

### 目的
ユーザーベースの協調フィルタリングにより、ユーザーに合ったアニメをおすすめするシステムを構築します。

### 使用データ
このプロジェクトでは、myanimelist.netのデータを使用しており、76,000ユーザーのアニメレビューが含まれています。  
使用しているデータセットは以下のKaggleからダウンロードしたオープンデータです。  
[Kaggle: Anime Recommendations Database](https://www.kaggle.com/datasets/CooperUnion/anime-recommendations-database)


- **anime.csv**:
  - アニメの情報を含むデータセット
  - 各カラムの詳細:
    - `anime_id`: アニメのユニークID
    - `name`: アニメのフルネーム
    - `genre`: アニメのジャンル
    - `type`: 視聴タイプ（映画、テレビ、OVAなど）
    - `episodes`: エピソード数
    - `rating`: 平均評価点
    - `members`: アニメの視聴者数

- **rating.csv**:
  - ユーザーの評価情報
  - 各カラムの詳細:
    - `user_id`: ランダムに生成されたユーザーID
    - `anime_id`: 評価対象のアニメID
    - `rating`: ユーザーが割り当てた評価（-1の場合は未評価）

- **combined_data.json**:
  - 英語表記のアニメタイトルを日本語に変換したデータを含むJSONファイル

## 必要なライブラリ

このプロジェクトを実行するためには、以下のライブラリが必要です。

- Python 3.x
- Streamlit
- Pandas
- Matplotlib
- Scikit-learn
- Scipy
- Seaborn

必要なパッケージをインストールするには、以下のコマンドを使用してください:

```sh
pip install -r requirements.txt
```

## 実行方法

このアプリケーションを実行するには、Streamlitを使用します。

1. ターミナルで以下のコマンドを実行してください:

   ```sh
   streamlit run app/anime_app.py
   ```

2. ウェブブラウザが開き、アニメおすすめアプリが表示されます。

## 機能説明

- **アニメ検索条件の設定**:
  - タイトル、ジャンル、評価点、視聴者数などでアニメを絞り込むことができます。
  
- **ユーザー選択**:
  - 対象のユーザーを選択し、そのユーザーがすでに視聴したアニメを表示します。

- **類似ユーザーの抽出**:
  - 対象ユーザーと類似度の高い他のユーザーを基にアニメを推薦します。
  - おすすめ度は各類似ユーザーの評価点と類似度の積を使用して計算されます。

## データフロー

1. **データのロード**: 初期化時にデータフレームをpickleファイルから読み込みます。
    - pickleファイルはcalc_sim_codeのmain.pyを実行して取得してください（とても容量が大きくなります）
2. **アニメの絞り込み**: タイトルやジャンル、評価点に基づいてアニメをフィルタリングします。
3. **ユーザー間の類似度計算**: コサイン類似度を使用してユーザー間の類似度を計算します。
4. **レコメンド**: 類似ユーザーの情報を基に、対象ユーザーに対して新たなアニメをおすすめします。

## 今後の課題

- レコメンドの精度向上のため、他の協調フィルタリング手法やコンテンツベースの推薦手法を追加すること。
- アプリケーションのUI/UXを改善し、ユーザーにとって使いやすいインターフェースを提供すること。
- 日本語対応の拡充と、ユーザーインタラクションの向上。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。